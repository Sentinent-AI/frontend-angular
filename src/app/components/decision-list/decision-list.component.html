<div class="decision-container">
    <div class="header">
        <h2>Decisions</h2>
        <a routerLink="new" class="btn-primary">Create New Decision</a>
    </div>

    <div class="decision-list" *ngIf="decisions$ | async as decisions">
        <div *ngIf="decisions.length === 0" class="empty-state">
            No decisions found. Create one to get started!
        </div>

        <div *ngFor="let decision of decisions" class="decision-card">
            <div class="decision-header">
                <h3>{{ decision.title }}</h3>
                <span class="status-badge" [ngClass]="decision.status.toLowerCase()">{{ decision.status }}</span>
            </div>
            <p class="decision-desc">{{ decision.description || 'No description provided.' }}</p>
            <div class="decision-meta">
                <span>Created: {{ decision.createdAt | date:'shortDate' }}</span>
            </div>
            <div class="decision-actions">
                <a [routerLink]="[decision.id, 'edit']" class="btn-secondary">Edit</a>
                <button (click)="deleteDecision(decision.id)" class="btn-danger">Delete</button>
            </div>
        </div>
    </div>
</div>